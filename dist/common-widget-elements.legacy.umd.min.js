!function(t,e,n,o,r,i,a,u,c,s,l,f,p,h,d,y,m,b,v,g,w,_,k,S,P){!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CommonWidgetElements=e():t.CommonWidgetElements=e()}(t,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||s.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&s.defineProperty(t,Symbol.toStringTag,{value:"Module"}),s.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=s.create(null);if(n.r(o),s.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return s.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(e,n,o){"use strict";(function(e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o.d(n,"a",function(){return i});var i="undefined"!==(void 0===t?"undefined":r(t))?t:"undefined"!==(void 0===e?"undefined":r(e))?e:"undefined"!==("undefined"==typeof self?"undefined":r(self))?self:l("return this;")()}).call(this,o(1))},function(e,n){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=function(){return this}();try{r=r||l("return this")()||(0,eval)("this")}catch(e){"object"===(void 0===t?"undefined":o(t))&&(r=t)}e.exports=r},function(n,r,u){"use strict";u.r(r);var f="[object Object]",p=l.call.bind(s.prototype.toString);var d=function t(e){for(var n=e||{},o=arguments.length,r=new c(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];var a,u,s=r.length,l=!1;for("boolean"==typeof e&&(l=e,n=r.shift()||{},s=r.length),a=0;a<s;a++)if(r[a])for(u in r[a])r[a].hasOwnProperty(u)&&(l&&p(n[u])===f&&p(r[a][u])===f?n[u]=t(!0,n[u],r[a][u]):n[u]=r[a][u]);return n},b=l.bind.call.bind(l.bind)(l.call.bind,l.call),v=s.defineProperty,g=s.defineProperties,_=s.keys,x=[],C=c.isArray,E=(b(x.forEach),b(x.indexOf)),z=(b(x.splice),S.log),O=S.error||z,D=S.warn||z,I="undefined"!=typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",A=HTMLElement.prototype,T=e,$=T.head,N=function(t){return T.createElement(t)},M=function(t){return T.createTextNode(t||"")},R=b(A.appendChild),j=(b(A.insertBefore),b(A.hasAttribute),b(A.setAttribute)),L=(b(A.removeAttribute),u(0));function F(t,e){v(this,"_",{value:{keys:t.slice(0),values:e?e.slice(0):null,idx:0,total:t.length}})}g(F.prototype,{constructor:{value:F},next:{enumerable:!0,configurable:!0,value:function(){var t={done:this._.idx===this._.total};if(t.done)return t.value=P,t;var e=this._.idx++;return t.value=this._.keys[e],this._.values&&(t.value=[t.value,this._.values[e]]),t}}}),v(F.prototype,I,{value:function(){return this}});var U=L.a.Set&&L.a.Set.prototype[I]?L.a.Set:B;function B(){}function Q(t){return function(t){if(c.isArray(t)){for(var e=0,n=new c(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in s(t)||"[object Arguments]"===s.prototype.toString.call(t))return c.from(t)}(t)||function(){throw new y("Invalid attempt to spread non-iterable instance")}()}g(B.prototype,function(t,e,n){return e in t?s.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({constructor:{value:B,configurable:!0},_:{get:function(){var t=[];return v(this,"_",{value:t}),t}},add:{value:function(t){return-1===E(this._,t)&&this._.push(t),this}},has:{value:function(t){return-1!==E(this._,t)}},size:{get:function(){return this._.length}},clear:{value:function(){this._.splice(0)}},delete:{value:function(t){var e=E(this._,t);return-1!==e&&(this._.splice(e,1),!0)}},values:{value:function(){return new F(this._)}},entries:{value:function(){return new F(this._,this._)}},forEach:{value:function(t,e){var n=this;this._.forEach(function(e){return t(e,e,n)},e)}}},I,{value:function(){return this.values()}}));var W,q,H=/native code/i,Z=function(){if("undefined"!=typeof setImediate&&H.test(setImediate.toString()))return setImediate;if("function"==typeof Promise&&H.test(Promise.toString())){var t=Promise.resolve();return function(e){t.then(e).catch(function(t){return S.error(t)})}}var e=[],n=!1;return function(t){e.push(t),n||(n=!0,function t(){o(function(){e.shift()(),e.length?t():n=!1},0)}())}}(),X=!1,Y=new Set,G=function(){var t=Q(Y);for(Y.clear(),X=!1,W=0,q=t.length;W<q;W++)t[W]()};Z.queue=function(t){Y.add(t),X||(X=!0,Z(G))};var J=Z;function V(t){return function(t){if(c.isArray(t)){for(var e=0,n=new c(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in s(t)||"[object Arguments]"===s.prototype.toString.call(t))return c.from(t)}(t)||function(){throw new y("Invalid attempt to spread non-iterable instance")}()}var K="___$observable$___",tt={configurable:!0,enumerable:!0},et=new U,nt="___$watching$___",ot="__$watchable$__",rt="__$is".concat(ot),it=["pop","push","shift","splice","unshift","sort","reverse"],at=function(t){return t&&"[object Object]"===s.prototype.toString.call(t)},ut=new U,ct=!1;function st(t,e,n){t[K]||lt(t),e&&!t[K].props[e]?(pt(t,e),ht(t,e)):e&&t[K].props[e].setupInterceptors&&ht(t,e),e&&n?t[K].props[e].storeCallback(n):e||(dt(t,!1),n&&t[K].storeCallback(n));var o=function(t,e){t&&(e.dependents&&(e.dependents.delete(t),_t(t,e.dependents)),e.watchers.delete(t),_t(t,e.watchers))}.bind(t,n,e?t[K].props[e]:t[K]);return o.destroy=o,o}function lt(t){t[K]||(v(t,K,{configurable:!0,writable:!0,deep:!1,value:{props:{},dependents:new U,watchers:new U,storeCallback:gt}}),ft(t[K].dependents,!1),ft(t[K].watchers,!0))}function ft(t){var e=arguments.length>1&&arguments[1]!==P&&arguments[1];t.async=e,t.isQueued=!1,t.notify=yt}function pt(t,e){return t[K].props[e]||(t[K].props[e]={val:P,dependents:new U,watchers:new U,parent:t[K],storeCallback:gt,setupInterceptors:!0,deep:t[K].deep},ft(t[K].props[e].dependents,!1),ft(t[K].props[e].watchers,!0)),t[K].props[e]}function ht(t,e){var n=s.getOwnPropertyDescriptor(t,e)||tt;n.get||(t[K].props[e].val=t[e],t[K].props[e].deep&&dt(t[K].props[e].val)),v(t,e,{configurable:n.configurable||!1,enumerable:n.enumerable||!1,get:function(){return et.size&&et.forEach(t[K].props[e].storeCallback,t[K].props[e]),n.get?n.get.call(t):t[K].props[e].val},set:function(o){var r=t[e];return n.set?o=n.set.call(t,o):t[K].props[e].val=o,t[K].props[e].deep&&dt(o),o!==r&&(t[K].props[e].watchers.notify(),t[K].props[e].dependents.notify(),t[K].watchers.notify()),o}}),t[K].props[e].setupInterceptors=!1,n===tt&&t[K].watchers.notify()}function dt(t){var e=!(arguments.length>1&&arguments[1]!==P)||arguments[1],n=arguments.length>2&&arguments[2]!==P&&arguments[2];return at(t)||C(t)?(t[K]||(at(t)?lt(t):C(t)&&function(t){t[K]||lt(t);if(t[rt])return;var e=t.__proto__;if(!e[ot]){var n=s.create(e);it.forEach(function(t){v(n,t,{configurable:!0,writable:!0,value:function(){for(var n,o=arguments.length,r=new c(o),i=0;i<o;i++)r[i]=arguments[i];var a=(n=e[t]).call.apply(n,[this].concat(r));return this[K].dependents.notify(),this[K].watchers.notify(),a}})}),v(n,"size",{configurable:!0,get:function(){return et.size&&et.forEach(this[K].storeCallback,this[K]),this.length}}),v(n,rt,{value:!0}),v(e,ot,{configurable:!0,writable:!0,value:n})}t.__proto__=e[ot]}(t)),n||!t[K].deep?(e&&(t[K].deep=!0),C(t)?function(t,e){for(var n=0,o=t.length;n<o;n++)dt(t[n],!0,e)}(t):function(t,e){for(var n=_(t),o=0,r=n.length;o<r;o++)t[K].props[n[o]]||(pt(t,n[o]),ht(t,n[o])),t[K].props[n[o]].deep&&!e||(t[K].props[n[o]].deep=!0,at(t[n[o]])&&dt(t[n[o]],!0,e))}(t),t):void 0):t}function yt(){this.size&&(this.async?this.forEach(mt):this.forEach(bt),function(t){t&&mt(t);if(ct||!ut.size)return;ct=!0,J(vt)}())}function mt(t){ut.add(t)}function bt(t){t()}function vt(){var t=V(ut);ut.clear(),ct=!1;for(var e=0,n=t.length;e<n;e++)t[e]();t.length=0}function gt(t){t.asDependent&&this.dependents?(wt(t,this.dependents),this.dependents.add(t)):(wt(t,this.watchers),this.watchers.add(t))}function wt(t,e){t[nt]||(v(t,nt,{configurable:!0,writable:!0,value:{watching:new U}}),v(t,"stopWatchingAll",{configurable:!0,writable:!0,value:function(){t[nt].watching.forEach(function(e){return e.delete(t)}),t[nt].watching.clear()}})),t[nt].watching.add(e)}function _t(t,e){t[nt]&&t[nt].watching.delete(e)}var kt=st;function St(t,e,n,o){var r=e.split(/\s+/),i={};return r.forEach(function(e){t.addEventListener(e,n,o),i[e]={remove:function(){return t.removeEventListener(e,n,o)}}}),s.create({listeners:i,remove:function(){r.forEach(function(t){return i[t].remove()})}})}var Pt=St;var xt,Ct=function(t,e){return c.prototype.slice.call(t.querySelectorAll(e))};"undefined"==typeof WeakMap?function(){var e=s.defineProperty,n=i.now()%1e9,o=xt=function(){this.name="__st"+(1e9*h.random()>>>0)+n+++"__"};o.prototype={set:function(t,n){var o=t[this.name];return o&&o[0]===t?o[1]=n:e(t,this.name,{value:[t,n],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:P},delete:function(t){var e=t[this.name];return!(!e||e[0]!==t)&&(e[0]=e[1]=P,!0)},has:function(t){var e=t[this.name];return!!e&&e[0]===t}},t.WeakMap=o}():xt=WeakMap;var Et={stash:new xt,create:function(){return new xt}},zt=h.random().toString(36).substring(7),Ot=1,Dt={toString:function(){return"Symbol(".concat(this.description,").").concat(this._id)},valueOf:function(){return this.toString()}},It=L.a.Symbol||function t(e){if(this instanceof t)throw new y("FakeSymbol is not a constructor");return s.create(Dt,{description:{value:arguments.length?e:""},_id:{value:"".concat(zt,".").concat(Ot++)}})};F.iterator=F;var At=Et.create(),Tt=It("state");function $t(t,e){return e.aliases.some(function(e){return t.hasAttribute(e)})}function Nt(t){if(!At.has(t)){var e={ready:!1,readyWatcher:null,props:t.props,destroyCallbacks:[],destroyQueued:null,isMounted:!1,hasTemplate:!1},n=Mt(t.constructor),o=_(n).filter(function(t){return!n[t]._isAlias&&n[t].required}),r=function(){!o.length||o.every(function(t){return!!e.props[t]})?e.ready=!0:e.ready=!1};o.forEach(function(t){return kt(e.props,t,r)}),r(),At.set(t,e)}return At.get(t)}function Mt(t){var e=Rt(t);return e.propsDef||(e.propsDef={},t.propsDef&&_(t.propsDef).forEach(function(n){if(e.propsDef[n]=t.propsDef[n],C(e.propsDef[n].aliases)){var o=d({},t.propsDef[n],{_isAlias:!0});e.propsDef[n].aliases.forEach(function(t){return!e.propsDef[t]&&(e.propsDef[t]=o)})}})),e.propsDef}function Rt(t){return At.has(t)||At.set(t,{propsDef:null,template:null,observedAttrs:null}),At.get(t)}function jt(t){if("string"==typeof t.template){var n=Rt(t);return n.template||(n.template=e.createElement("template"),n.template.innerHTML=t.template),n.template}return t.template}var Lt=function(){return!!L.a.ShadyCSS};function Ft(t){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ut(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),s.defineProperty(t,o.key,o)}}function Bt(t,e){return!e||"object"!==Ft(e)&&"function"!=typeof e?Qt(t):e}function Qt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wt(t){var e="function"==typeof Map?new Map:P;return(Wt=function(t){if(null===t||!function(t){return-1!==l.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new y("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return qt(t,arguments,Zt(this).constructor)}return n.prototype=s.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ht(n,t)})(t)}function qt(t,e,n){return(qt=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return i.prototype.toString.call(Reflect.construct(i,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(l.bind.apply(t,o));return n&&Ht(r,n.prototype),r}).apply(null,arguments)}function Ht(t,e){return(Ht=s.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zt(t){return(Zt=s.setPrototypeOf?s.getPrototypeOf:function(t){return t.__proto__||s.getPrototypeOf(t)})(t)}var Xt=$.createShadowRoot||$.attachShadow,Yt={bubbles:!0,cancelable:!0,composed:!0},Gt=t.customElements,Jt=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new y("Cannot call a class as a function")}(this,e);for(var o=arguments.length,r=new c(o),i=0;i<o;i++)r[i]=arguments[i];var a=(n=Bt(this,(t=Zt(e)).call.apply(t,[this].concat(r))))||Qt(Qt(n));return Vt(a),Bt(n,a)}return function(t,e){if("function"!=typeof e&&null!==e)throw new y("Super expression must either be null or a function");t.prototype=s.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(e,Wt(HTMLElement)),function(t,e,n){e&&Ut(t.prototype,e),n&&Ut(t,n)}(e,[{key:"attributeChangedCallback",value:function(t,e,n){var o=Mt(this.constructor);o[t]&&(t=o[t].name),this.props[t]=n}},{key:"destroy",value:function(){if(At.has(this)){var t=Nt(this);At.delete(this),t.destroyQueued&&(k(t.destroyQueued),t.destroyQueued=null),t.destroyCallbacks.splice(0).forEach(function(t){return t()})}this.parentNode&&this.parentNode.removeChild(this)}},{key:"onDestroy",value:function(t){Nt(this).destroyCallbacks.push(t)}},{key:"$",value:function(t){return this.$ui.querySelector(t)}},{key:"$$",value:function(t){return Ct(this.$ui,t)}},{key:"init",value:function(){}},{key:"ready",value:function(){}},{key:"unready",value:function(){}},{key:"mounted",value:function(){}},{key:"unmounted",value:function(){}},{key:"emit",value:function(t,e,n){var o=t.toLowerCase(),r=new w(t,d({},this.constructor.eventInitOptions,n,{detail:e}));"function"==typeof this[o]&&this[o](r),this.dispatchEvent(r)}},{key:"on",value:function(t,e,n){return Pt(this,t,e,n)}},{key:"onPropsChange",value:function(t,e){return st(this.props,e,t)}},{key:"connectedCallback",value:function(){if(function(t){Lt()&&L.a.ShadyCSS.styleElement(t)}(this),At.has(this)){var t=Nt(this);t.destroyQueued&&(k(t.destroyQueued),t.destroyQueued=null),t.isMounted=!0,t.ready&&this.mounted()}else Nt(this).isMounted=!0,Vt(this)}},{key:"disconnectedCallback",value:function(){if(At.has(this)){var t=Nt(this);t.destroyQueued||(t.destroyQueued=o(this.destroy.bind(this),this.constructor.delayDestroy)),t.isMounted=!1,t.ready&&this.unmounted()}}},{key:"props",get:function(){var t=this;if(this.constructor.prototype===this)throw new m("can't be used on own prototype");if(this._$props)return this._$props;var e=Mt(this.constructor),n={};return _(e).forEach(function(o){if(!e[o]||!e[o]._isAlias){var r=e[o].default.call(t);e[o].attr&&!e[o].boolean&&$t(t,e[o])?r=function(t,e){var n="";return e.aliases.some(function(e){if(t.hasAttribute(e))return n=t.getAttribute(e),!0}),n}(t,e[o]):t.hasOwnProperty(o)&&(r=t[o],delete t[o]),v(n,o,{configurable:!0,enumerable:!0,get:function(){return r},set:function(n){return n=e[o].filter.call(t,n),r=n}})}}),v(this,"_$props",{value:n}),n}},{key:"$ui",get:function(){return this._$ui}}],[{key:"define",value:function(t){(function(t,e){Lt()&&L.a.ShadyCSS.prepareTemplate(jt(t),e)})(this,t=t||this.tagName),Gt.get(t)?Gt.get(t)!==this&&D("".concat(t," is already a defined in customElementsRegistry as a different Class")):Gt.define(t,this)}},{key:"renderTemplate",value:function(t){return function(t){return t.ownerDocument.importNode(jt(t.constructor).content,!0)}(t)}},{key:"tagName",get:function(){throw new m("tagName not defined")}},{key:"delayDestroy",get:function(){return 250}},{key:"useShadow",get:function(){return!0}},{key:"shadowMode",get:function(){return"open"}},{key:"template",get:function(){return"<div></div>"}},{key:"eventInitOptions",get:function(){return Yt}},{key:"observedAttributes",get:function(){var t=Rt(this);if(!t.observedAttrs){var e=Mt(this);t.observedAttrs=_(e).filter(function(t){return e[t].attr})}return t.observedAttrs}}]),e}();function Vt(t){var e=Nt(t),n=null,o=function(){n!==e.ready&&(n=e.ready,e.ready?(e.hasTemplate||(t._$ui.appendChild(t.constructor.renderTemplate(t)),e.hasTemplate=!0),t.ready(),e.isMounted&&t.mounted()):e.hasTemplate&&t.unready())};t.constructor.useShadow&&Xt?t.shadowRoot?t._$ui=t.shadowRoot:t._$ui=t.attachShadow({mode:t.constructor.shadowMode}):t._$ui=t,t.init(),e.readyWatcher=st(e,"ready",o),t.onDestroy(e.readyWatcher),o()}var Kt=/[A-Z]/,te=function(t){return t};function ee(){for(var t=arguments.length,e=new c(t),n=0;n<t;n++)e[n]=arguments[n];return e.length<2?ne.bind(null,e[0]):ne.apply(void 0,[null].concat(e))}function ne(t,e,n,o){var r,i=o.get,a=o.set;return t&&t.boolean&&(t.attr=!0,i=o.get=function(){return $t(this,r)},a=o.set=function(t){return"boolean"==typeof t&&(t&&!$t(this,r)?this.setAttribute(n,""):!t&&$t(this,r)&&this.removeAttribute(n)),$t(this,r)}),r=d(function(t,e,n,o){var r=function(t){t.constructor.propsDef||v(t.constructor,"propsDef",{configurable:!0,writable:!0,value:{}});return t.constructor.propsDef}(t);r[e]||(r[e]={name:e,attr:!1,required:!1,boolean:!1,default:n||te,filter:o||te,aliases:[e.toLowerCase()]},Kt.test(e)&&r[e].aliases.push(function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})}(e)));return r[e]}(e,n,i,a),t),o.get=o.set=oe(n),r.aliases.length&&r.aliases.forEach(function(t){if(!(t in e)){var n=oe(t);v(e,t,{configurable:!0,get:n,set:n})}}),o}function oe(t){var e="_$".concat(t);return function(){var n=1===arguments.length;if(-1!==s.getOwnPropertyNames(this).indexOf(e))return n?this[e]=arguments[0]:this[e];var o=Mt(this.constructor)[t].name;return v(this,e,{configurable:!0,get:function(){return this.props[o]},set:function(t){return this.props[o]=t}}),n?this[e]=arguments[0]:this[e]}}function re(t,e,n){if(t&&e&&n&&"function"==typeof n.value){var o=n.value,r=n.writable;return delete n.value,delete n.writable,n.get=function(){if(!this["__settingUp:".concat(e)]){this["__settingUp:".concat(e)]=!0;var t=o.bind(this);return v(this,e,{configurable:n.configurable,enumerable:n.enumerable,writable:r,value:t}),delete this["__settingUp:".concat(e)],t}},n}return re}function ie(t){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ae=t,ue=ae.document,ce="scrollTop",se="scrollLeft",le="pageYOffset",fe="pageXOffset",pe="undefined",he="px",de=/left/i;var ye,me,be,ve,ge,we,_e=function(t,e,n){var o=t.style,r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),a=d({my:"top left",at:"bottom left",viewport:ae},n),u=function(t){var e={};return t===ae||t===ue?ie(ae[le])!==pe?(e[ce]=ae[le],e[se]=ae[fe]):ue.documentElement?(e[ce]=ue.documentElement[ce],e[se]=ue.documentElement[se]):(e[ce]=ue.body[ce],e[se]=ue.body[se]):(e[ce]=t[ce],e[se]=t[se]),e}(a.viewport),c=u.scrollTop,s=u.scrollLeft,l=a.viewport.innerHeight,f=a.viewport.innerWidth,p=de.test(a.my),h=!p,y=de.test(a.at),m=!y,b=r.left,v=r.bottom+c;p&&m?b=r.right:h&&m?b=r.right-i.width:h&&y&&(b=r.left-i.width),b+i.width>f+s&&(b-=i.width),v+i.height>l+c&&(v-=i.height+r.height),o.left=b+he,o.top=v+he};function ke(t){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Se(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),s.defineProperty(t,o.key,o)}}function Pe(t,e){return!e||"object"!==ke(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xe(t){return(xe=s.setPrototypeOf?s.getPrototypeOf:function(t){return t.__proto__||s.getPrototypeOf(t)})(t)}function Ce(t,e){return(Ce=s.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ee(t,e,n,o,r){var i={};return s.keys(o).forEach(function(t){i[t]=o[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(t,e,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=P),void 0===i.initializer&&(s.defineProperty(t,e,i),i=null),i}var ze=function(t){t._docEv&&(t._docEv.remove(),t._docEv=null)},Oe=(ye=ee({attr:!0}),me=ee({boolean:!0}),be=ee({boolean:!0}),ve=ee({attr:!0}),ge=ee({attr:!0}),Ee((we=function(t){function n(){return function(t,e){if(!(t instanceof e))throw new y("Cannot call a class as a function")}(this,n),Pe(this,xe(n).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new y("Super expression must either be null or a function");t.prototype=s.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ce(t,e)}(n,Jt),function(t,e,n){e&&Se(t.prototype,e),n&&Se(t,n)}(n,[{key:"init",value:function(){this._docEv=null,this.onPropsChange(this.position,"at"),this.onPropsChange(this.position,"my")}},{key:"ready",value:function(){var t=this;this.onPropsChange(this._handleShowProp),this._handleShowProp(),this.onDestroy(function(){return ze(t)})}},{key:"_handleShowProp",value:function(){var t=this;this.for&&this.show?(this.position(),this.autoClose&&!this._docEv&&o(function(){t._docEv=Pt(e,"click",function(e){t.contains(e.target)||(ze(t),t.show=!1)})},200)):ze(this)}},{key:"position",value:function(){if(this.for&&this.show){var t={};this.my&&(t.my=this.my),this.at&&(t.at=this.at),_e(this,this.for,t)}}},{key:"for",set:function(t){return t&&"string"==typeof t?e.querySelector(t):t}},{key:"show",get:function(){return!1}},{key:"autoClose",get:function(){return!1}},{key:"my",get:function(){return"top left"}},{key:"at",get:function(){return"bottom left"}}],[{key:"tagName",get:function(){return"pop-up"}},{key:"template",get:function(){return"\n<style>\n:host {\n    box-sizing: border-box;\n    position: absolute;\n    min-height: 2em;\n    width: 15em;\n    max-height: 15em;\n    z-index: 5000;\n    overflow: auto;\n    display: none;\n\n    border: var(--theme-border, 1px solid);\n    border-color: var(--theme-color-1, #ECECEC);\n\n    box-shadow: var(--theme-box-shadow, \n        0 8px 10px 1px rgba(0,0,0,0.14),\n        0 3px 14px 2px rgba(0,0,0,0.12),\n        0 5px 5px -3px rgba(0,0,0,0.2));\n\n    background-color: white;\n    background-color: var(--theme-color-bg, white);\n\n    color: black;\n    color: var(--theme-color-fg, black);\n\n    padding: 0.5em;\n    padding: var(--theme-spacing-2, 0.5em);\n}\n:host::-webkit-scrollbar {\n    width:              0.5em;\n    background-color:   var(--theme-color-1, #F5F5F5);\n}\n:host::-webkit-scrollbar-thumb {\n    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);\n    background-color  : var(--theme-color-6, #555);\n}\n:host([show]) {\n    display: block;\n}\n</style>\n<div><slot></slot></div>"}}]),n}()).prototype,"for",[ye],s.getOwnPropertyDescriptor(we.prototype,"for"),we.prototype),Ee(we.prototype,"show",[me],s.getOwnPropertyDescriptor(we.prototype,"show"),we.prototype),Ee(we.prototype,"autoClose",[be],s.getOwnPropertyDescriptor(we.prototype,"autoClose"),we.prototype),Ee(we.prototype,"my",[ve],s.getOwnPropertyDescriptor(we.prototype,"my"),we.prototype),Ee(we.prototype,"at",[ge],s.getOwnPropertyDescriptor(we.prototype,"at"),we.prototype),Ee(we.prototype,"_handleShowProp",[re],s.getOwnPropertyDescriptor(we.prototype,"_handleShowProp"),we.prototype),Ee(we.prototype,"position",[re],s.getOwnPropertyDescriptor(we.prototype,"position"),we.prototype),we);function De(t,e){return e&&e.parentNode&&e.parentNode.insertBefore&&e.parentNode.insertBefore(t,e),t}var Ie,Ae,Te;function $e(t){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ne(t,e,n){return e in t?s.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Me(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),s.defineProperty(t,o.key,o)}}function Re(t,e){return!e||"object"!==$e(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function je(t,e,n){return(je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!s.prototype.hasOwnProperty.call(t,e)&&null!==(t=Le(t)););return t}(t,e);if(o){var r=s.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Le(t){return(Le=s.setPrototypeOf?s.getPrototypeOf:function(t){return t.__proto__||s.getPrototypeOf(t)})(t)}function Fe(t,e){return(Fe=s.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ue(t,e,n,o,r){var i={};return s.keys(o).forEach(function(t){i[t]=o[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(t,e,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=P),void 0===i.initializer&&(s.defineProperty(t,e,i),i=null),i}var Be="topTabInterceptor1",Qe="topTabInterceptor2",We="bottomTabInterceptor1",qe="bottomTabInterceptor2",He=[Be,Qe,qe,We],Ze="outline: none !important;display:block !important;height:1px !important;width:1px !important;color:transparent !important;position:absolute !important;left:-9999999px !important;top:-99999999px !important;z-index:-1 !important;",Xe=(Ie=ee({attr:!0,boolean:!0}),Ae=ee({attr:!0,boolean:!0}),Ue((Te=function(t){function n(){return function(t,e){if(!(t instanceof e))throw new y("Cannot call a class as a function")}(this,n),Re(this,Le(n).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new y("Super expression must either be null or a function");t.prototype=s.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fe(t,e)}(n,Jt),function(t,e,n){e&&Me(t.prototype,e),n&&Me(t,n)}(n,[{key:"init",value:function(){var t;this[Tt]=(Ne(t={},Be,null),Ne(t,Qe,null),Ne(t,We,null),Ne(t,qe,null),Ne(t,"isRefocusing",!1),t),this.onPropsChange(this._handleBlock,"block"),this.onPropsChange(this._handleBlock,"onParent"),St(this,"click",this)}},{key:"mounted",value:function(){this._handleBlock()}},{key:"destroy",value:function(){je(Le(n.prototype),"destroy",this).call(this),Ye(this)}},{key:"_handleBlock",value:function(){this.block?function(t){t.parentNode&&(t[Tt][Be]||function(t){t[Tt][Be]||He.forEach(function(n){t[Tt][n]=e.createElement("a"),t[Tt][n].innerText="-",t[Tt][n]._role=n,t[Tt][n].setAttribute("_role",n),t[Tt][n].setAttribute("tabindex","0"),t[Tt][n].setAttribute("style",Ze),St(t[Tt][n],"focus",t)})}(t),t.onParent?(De(t[Tt][Qe],t.parentNode.firstChild),De(t[Tt][Be],t.parentNode.firstChild),t.parentNode.appendChild(t[Tt][qe]),t.parentNode.appendChild(t[Tt][We])):(De(t[Tt][Be],t),De(t[Tt][Qe],t),t.nextSibling?(De(t[Tt][We],t.nextSibling),De(t[Tt][qe],t.nextSibling)):(t.parentNode.appendChild(t[Tt][qe]),t.parentNode.appendChild(t[Tt][We]))))}(this):Ye(this)}},{key:"handleEvent",value:function(t){if(this.block&&"focus"===t.type&&t.target._role&&!this[Tt].isRefocusing){switch(this[Tt].isRefocusing=!0,t.target._role){case Be:case Qe:this[Tt][We].focus();break;case We:case qe:this[Tt][Be].focus()}this[Tt].isRefocusing=!1}else"click"===t.type&&this.block&&!this.onParent&&this[Tt][We].focus()}},{key:"block",get:function(){return!1}},{key:"onParent",get:function(){return!1}}],[{key:"tagName",get:function(){return"content-access"}},{key:"template",get:function(){return'\n<style>\n    :host {\n        display: inline-block;\n        box-sizing: border-box;\n    }\n    :host([on-parent]) {\n        display: none;\n    }\n    :host([on-parent]) .content {\n        position:relative;\n        z-index: 1;\n        max-height: 100%;\n        max-width: 100%;\n        overflow: auto;\n    }\n    :host([on-parent]),\n    .modal {\n        position: absolute;\n        box-sizing: border-box;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        bottom: 0;\n        right: 0;\n    }\n    .modal {\n        background: lightgrey;\n        background: var(--theme-color-1, lightgrey);\n        opacity: 0.6;\n    }\n    :host([block][on-parent]) {\n        display: block;\n    }\n    /*:host([on-parent]) .modal,*/\n    :host(:not([on-parent]):not([block])) .modal {\n        display: none;\n    }\n    :host([block]:not([on-parent])) {\n        position: relative;\n    }\n</style>\n<div class="content">\n    <slot></slot>\n</div>\n<div class="modal"></div>\n'}}]),n}()).prototype,"block",[Ie],s.getOwnPropertyDescriptor(Te.prototype,"block"),Te.prototype),Ue(Te.prototype,"onParent",[Ae],s.getOwnPropertyDescriptor(Te.prototype,"onParent"),Te.prototype),Ue(Te.prototype,"_handleBlock",[re],s.getOwnPropertyDescriptor(Te.prototype,"_handleBlock"),Te.prototype),Te);function Ye(t){t[Tt][Be]&&He.forEach(function(e){return t[Tt][e].parentNode&&t[Tt][e].parentNode.removeChild(t[Tt][e])})}var Ge,Je,Ve,Ke,tn,en,nn,on,rn;function an(t){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function un(t,e,n,o){n&&s.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function cn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),s.defineProperty(t,o.key,o)}}function sn(t){return(sn=s.setPrototypeOf?s.getPrototypeOf:function(t){return t.__proto__||s.getPrototypeOf(t)})(t)}function ln(t,e){return(ln=s.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pn(t,e,n,o,r){var i={};return s.keys(o).forEach(function(t){i[t]=o[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(t,e,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=P),void 0===i.initializer&&(s.defineProperty(t,e,i),i=null),i}var hn=Symbol("SOURCE_SETUP"),dn=Symbol("SOURCE_STYLES"),yn=Symbol("STATE"),mn=s.create(null),bn=a.fromCharCode;function vn(t,e){var n=N("style");return n.type="text/css",R(n,M(t)),e&&j(n,"data-id",e),n}var gn=(Ge=ee({attr:!0}),Je=ee({attr:!0}),Ve=ee({attr:!0}),rn=on=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new y("Cannot call a class as a function")}(this,e);for(var o=arguments.length,r=new c(o),i=0;i<o;i++)r[i]=arguments[i];return un(n=function(t,e){return!e||"object"!==an(e)&&"function"!=typeof e?fn(t):e}(this,(t=sn(e)).call.apply(t,[this].concat(r))),"from",tn,fn(fn(n))),un(n,"name",en,fn(fn(n))),un(n,"code",nn,fn(fn(n))),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new y("Super expression must either be null or a function");t.prototype=s.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ln(t,e)}(e,Jt),function(t,e,n){e&&cn(t.prototype,e),n&&cn(t,n)}(e,[{key:"ready",value:function(){this[yn]||(this[yn]={$icon:null,from:null,name:null},this[dn]={},this.onPropsChange(this._handlePropChanges),this._handlePropChanges())}},{key:"_handlePropChanges",value:function(){var t=this[yn],e=this.props;if(e.name===t.name&&e.code===t.code&&e.from===t.from||(t.from&&this[dn][t.from]&&this[dn][t.from].remove(),t.name=t.from=t.code=t.source=null,t.$icon&&(t.$icon.parentNode&&t.$icon.parentNode.removeChild(t.$icon),t.$icon=null)),(e.name||e.code)&&e.from){t.name=e.name,t.code=e.code,t.from=e.from;var n=this.constructor.sources[e.from];n&&(t.source=n,n[hn]||(n[hn]=!0,"doSetup"in n&&n.doSetup(this.constructor)),!this[dn][t.from]&&"getStyles"in n&&(this[dn][t.from]=vn(n.getStyles())),n.getIcon(this.props,this).then(this._showIconElement))}}},{key:"_showIconElement",value:function(t){if(t&&this.props.name===this[yn].name){if(11===t.nodeType&&!(t=t.firstChild))return;this[yn].$icon=t,R(this.$ui,t),this[dn][this[yn].from]&&this.$ui.insertBefore(this[dn][this[yn].from],this[yn].$icon)}}}],[{key:"fetchSvg",value:function(t){return mn[t]||(mn[t]=new Promise(function(e,n){var o=new XMLHttpRequest;o.addEventListener("load",function(){this.status<200||this.status>=300?n(new m("".concat(this.status," ").concat(this.responseText))):e(this.responseText)}),o.onerror=n,o.onabort=n,o.open("GET",t),o.send()})),mn[t]}},{key:"setupFont",value:function(t){T.head.appendChild(vn(t))}},{key:"fromCodePoint",value:function(t){var e="string"==typeof t?parseInt(t.replace(/U\+/i,""),16):t;return e<65536?bn(e):bn(55296+((e-=65536)>>10),56320+(1023&e))}},{key:"tagName",get:function(){return"i-con"}},{key:"template",get:function(){return"\n<style>\n    :host {\n        display: inline-block;\n        position: relative;\n        box-sizing: border-box;\n        contain: content;\n        font-size: initial;\n        width: 24px;\n        height: 24px;\n        \n        /* -- var support -- */\n        width: var(--icon-size, 24px);\n        height: var(--icon-size, 24px);\n    }\n    \n    .i-con-font {\n        font-size: 24px;\n        font-size: var(--icon-size, 24px);\n    }\n    \n    /* -------------------------------------------\n            SIZES\n       ------------------------------------------- */\n    :host([size=xs]) {\n        width: 0.8rem;\n        height: 0.8rem;\n    }\n    :host([size=xs]) .i-con-font {\n        font-size: 0.8rem;\n    }\n    \n    :host([size=sm]) {\n        width: 1.55rem;\n        height: 1.55rem;\n    }\n    :host([size=sm]) .i-con-font {\n        font-size: 1.55rem;\n    }\n    \n    :host([size=md]) {\n        width: 2.25rem;\n        height: 2.25rem;\n    }\n    :host([size=md]) .i-con-font {\n        font-size: 2.25rem;\n    }\n    \n    :host([size=lg]) {\n        width: 3.0rem;\n        height: 3.0rem;\n    }\n    :host([size=lg]) .i-con-font {\n        font-size: 3.0rem;\n    }\n    :host([size=xl]) {\n        width: 3.75rem;\n        height: 3.75rem;\n    }\n    :host([size=xl]) .i-con-font {\n        font-size: 3.75rem;\n    }\n    \n    .i-con,\n    svg {\n      width: 100%;\n      height: 100%;\n    }\n    .i-con {\n        box-sizing: border-box;\n    } \n</style>\n"}}]),e}(),on.sources={},tn=pn((Ke=rn).prototype,"from",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),en=pn(Ke.prototype,"name",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),nn=pn(Ke.prototype,"code",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pn(Ke.prototype,"_handlePropChanges",[re],s.getOwnPropertyDescriptor(Ke.prototype,"_handlePropChanges"),Ke.prototype),pn(Ke.prototype,"_showIconElement",[re],s.getOwnPropertyDescriptor(Ke.prototype,"_showIconElement"),Ke.prototype),Ke),wn=N("template"),_n={cdnUrl:"//unpkg.com/boxicons@latest/svg",getIcon:function(t,e){if(t.name){var n="".concat(this.cdnUrl,"/regular/bx-").concat(t.name,".svg");return e.constructor.fetchSvg(n).then(Sn).catch(kn)}return Promise.reject(new m("boxicon 'name' missing"))}};function kn(t){return O(t),Promise.reject(t)}function Sn(t){return wn.innerHTML=t,e.importNode(wn.content,!0).firstChild}var Pn,xn=Symbol("OFFICE"),Cn=N("template"),En=/^U\+/i;Cn.innerHTML='<span class="i-con i-con-font ms-Icon"></span>';var zn={cdnUrl:"//static2.sharepointonline.com/files/fabric/assets/icons",isIconLoaded:!1,iconMap:{},iconAliases:{},doSetup:function(t){Pn=t.fromCodePoint,t.setupFont(this.getFontFaceCss())},getIcon:function(t,e){var n=t.code,o=t.name;return e[xn]||(e[xn]=T.importNode(Cn.content,!0).firstChild),e[xn].textContent=n?En.test(n)?Pn(n):n:Pn(this.iconMap[o]||this.iconAliases[o]),Promise.resolve(e[xn])},getFontFaceCss:function(){return"\n@font-face {\n    font-family: FabricMDL2Icons;\n    src: url(".concat(this.cdnUrl,'/fabricmdl2icons-2.68.woff2) format("woff2"),\n         url(').concat(this.cdnUrl,'/fabricmdl2icons-2.68.woff) format("woff"),\n         url(').concat(this.cdnUrl,'/fabricmdl2icons-2.68.ttf) format("truetype");\n    font-weight: 400;\n    font-style: normal;\n}\n')},getStyles:function(){return"\n".concat(this.getFontFaceCss(),"\n\n.ms-Icon {\n    display: inline-block;\n    font-family: FabricMDL2Icons;\n    font-style: normal;\n    font-weight: 400;\n    speak: none;\n}\n")}},On=N("template"),Dn={cdnUrl:"//unpkg.com/twemoji@latest/2/svg",getIcon:function(t,e){if(t.code){var n="".concat(this.cdnUrl,"/").concat(function(t){return t.toLowerCase().replace(/^u\+/,"")}(t.code),".svg");return e.constructor.fetchSvg(n).then(An).catch(In)}return Promise.reject(new m("twemoji 'node' missing"))}};function In(t){return O(t),Promise.reject(t)}function An(t){return On.innerHTML=t,e.importNode(On.content,!0).firstChild}gn.sources.boxicons=_n,gn.sources.twemoji=Dn,gn.sources["office-ui-fabric"]=zn;u.d(r,"VERSION",function(){return Tn}),u.d(r,"Popup",function(){return Oe}),u.d(r,"ContentAccess",function(){return Xe}),u.d(r,"Icon",function(){return gn});var Tn="1.0.0"}])})}(window,document,location,setTimeout,setInterval,Date,String,Number,Array,Object,Function,atob,btoa,Math,JSON,TypeError,Error,encodeURIComponent,decodeURIComponent,requestAnimationFrame,CustomEvent,clearInterval,clearTimeout,console);
//# sourceMappingURL=common-widget-elements.legacy.umd.min.js.map